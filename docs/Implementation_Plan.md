# План реализации: Анализатор логов веб-сервера

## 1. Краткое описание задачи
Разработать консольное приложение на C++ для анализа логов веб-сервера в формате JSON. Программа должна загружать логи, валидировать их, выполнять статистический анализ (топ IP/URL, фильтрация по дате/статусу) и выводить результаты в удобном табличном формате.

## 2. Цель и ожидаемый результат
**Цель:** Создать инструмент для быстрого анализа логов веб-сервера с поддержкой JSON формата.

**Ожидаемый результат:**
- Рабочее консольное приложение (CLI)
- Поддержка загрузки/сохранения JSON
- Статистические отчёты в табличном виде
- Замеры производительности для ключевых операций
- Полная документация и примеры использования

## 3. Этапы и задачи реализации

### Этап 1: Подготовка и проектирование (2 дня)
- [x] Создать структуру репозитория GitHub
- [x] Написать Implementation Plan
- [x] Проанализировать формат JSON логов
- [x] Проектирование классов и интерфейсов

### Этап 2: Реализация парсера JSON (3 дня)
- [ ] Создать класс JSONParser для ручного парсинга
- [ ] Реализовать поддержку объектов, массивов, строк, чисел
- [ ] Добавить базовые экранирования (", \, \n, \t)
- [ ] Написать тесты для парсера

### Этап 3: Структуры данных и валидация (3 дня)
- [ ] Класс LogEntry с полями: ts, ip, method, url, status
- [ ] Класс LogAnalyzer для хранения коллекции логов
- [ ] Валидация формата даты (ISO 8601)
- [ ] Валидация статусов (100-599)
- [ ] Валидация IP-адресов (базовая)
- [ ] Обработка ошибок с указанием позиции

### Этап 4: Основной функционал (4 дня)
- [ ] Загрузка логов из JSON файла
- [ ] Вычисление топа N IP-адресов
- [ ] Вычисление топа N URL
- [ ] Фильтрация по диапазону дат
- [ ] Фильтрация по методу и статусу
- [ ] Сохранение результатов в JSON

### Этап 5: Консольный интерфейс (2 дня)
- [ ] Реализация аргументов командной строки:
  - `--help` - справка
  - `--input <file>` - входной файл
  - `--output <file>` - выходной файл
  - `--top-ip <N>` - топ IP
  - `--top-url <N>` - топ URL
  - `--filter-status <code>` - фильтр по статусу
  - `--date-from/--date-to` - фильтр по дате
- [ ] Интерактивное меню (опционально)
- [ ] Форматированный табличный вывод

### Этап 6: Тестирование и отладка (3 дня)
- [ ] Создание тестовых данных
- [ ] Написание unit-тестов
- [ ] Тестирование граничных случаев
- [ ] Исправление ошибок
- [ ] Тестирование на больших файлах (10к, 50к, 100к записей)

### Этап 7: Оптимизация и бенчмарки (2 дня)
- [ ] Профилирование кода
- [ ] Выявление "узких мест"
- [ ] Оптимизация алгоритмов
- [ ] Замеры производительности
- [ ] Написание отчёта по бенчмаркам

### Этап 8: Документация и оформление (1 день)
- [ ] Написание README
- [ ] Подготовка примеров использования
- [ ] Создание демонстрационных сценариев
- [ ] Формирование финального отчёта

## 4. План-график
| Этап | Задачи                      | Срок (дни) | Дата начала | Дата окончания |
|------|-----------------------------|------------|-------------|----------------|
| 1    | Подготовка и проектирование | 2          | 29.12.2025  | 30.12.2025     |
| 2    | Парсер JSON                 | 3          | 28.12.2025  | 30.12.2025     |
| 3    | Структуры данных            | 3          | 29.12.2025  | 31.12.2025     |
| 4    | Основной функционал         | 4          | 28.12.2025  | 31.12.2025     |
| 5    | Консольный интерфейс        | 2          | 27.12.2025  | 28.12.2025     |
| 6    | Тестирование                | 3          | 29.12.2025  | 31.12.2025     |
| 7    | Оптимизация                 | 2          | 29.12.2025  | 30.12.2025     |
| 8    | Документация                | 1          | 29.12.2025  | 29.12.2025     |
 
**Итого:** 20 дней

## 5. Ресурсы
- **Язык программирования:** C++17/C++20
- **Компилятор:** MinGW-w64 (g++) или MSVC
- **IDE:** Visual Studio 2026
- **Система сборки:** CMake
- **Система контроля версий:** Git
- **Платформа:** Windows 11 Pro
- **Библиотеки:** Стандартная библиотека C++ (STL)
- **Тестирование:** Ручное + простые assert-тесты
- **Документация:** Markdown